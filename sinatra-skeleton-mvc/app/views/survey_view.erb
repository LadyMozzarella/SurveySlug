<div class="container">
  <div>
    Users can answer the survey <a href="/surveys/<%= @survey.id %>/responses/new">here</a>.
  </div>
  <a href="/users/<%= @survey.user.id %>/surveys">Back to Surveys</a>
  <h1>Survey: <%= @survey.name %></h1>
  <h2>Responses</h2>
  <ul>
    <% @survey.questions.each do |question| %>
      <li>
        <div>
          <h3><%= question.prompt %></h3>
          <ul>
            <% question.options.each do |option| %>
              <li><%= option.name %> - <%= option.responses.count %></li>
            <% end %>
          </ul>
        </div>
      </li>
    <% end %>
  </ul>
</div>

<script>
var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
                11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];

d3.select("body").selectAll("div")
    .data(dataset)
    .enter()
    .append("div")
    .attr("class", "bar")
    .style("width", function(d) {
        var barWidth = d * 5;
        return barWidth + "px";
    });
</script>